<div class="board">
    <div class="row" *ngFor="let x of indices">
        <div
            class="square"
            *ngFor="let y of indices"
            [ngClass]="{
                'highlight': this.highlightedSqares[x][y],
                'white': getSquareColor(x, y) === 'white',
                'black': getSquareColor(x, y) === 'black'
            }"
            [attr.data-x]="x"
            [attr.data-y]="y"
            (dragover)="onDragOver($event)"
            (drop)="onDrop($event, x, y)"
        >
            <img
                *ngIf="getPieceAt(x, y)"
                [src]="getPieceAt(x, y)!.imageSrc"
                class="piece"
                alt=""
                draggable="true"
                (dragstart)="onDragStart($event, x, y)"
            />
        </div>
    </div>
</div>
